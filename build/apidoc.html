<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/bunkat/later#readme"

    >later (v1.2.0)</a>
</h1>
<h4>Determine later (or previous) occurrences of recurring schedules</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.later">module later</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.compile">
            function <span class="apidocSignatureSpan">later.</span>compile
            <span class="apidocSignatureSpan">(schedDef)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.schedule">
            function <span class="apidocSignatureSpan">later.</span>schedule
            <span class="apidocSignatureSpan">(sched)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.setInterval">
            function <span class="apidocSignatureSpan">later.</span>setInterval
            <span class="apidocSignatureSpan">(fn, sched)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.setTimeout">
            function <span class="apidocSignatureSpan">later.</span>setTimeout
            <span class="apidocSignatureSpan">(fn, sched)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.</span>DAY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.</span>HOUR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.</span>MIN</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.</span>NEVER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.</span>SEC</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.</span>WEEK</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>D</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>DAYS_IN_MONTH</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>M</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>Y</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>array</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>d</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>date</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>day</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>dayOfWeek</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>dayOfWeekCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>dayOfYear</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>dc</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>dw</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>dy</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>fd</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>fullDate</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>h</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>hour</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>index_browserify</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>m</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>minute</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>modifier</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>month</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>parse</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>s</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>second</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>t</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>time</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>weekOfMonth</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>weekOfYear</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>wm</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>wy</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.</span>year</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.D">module later.D</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.D.end">
            function <span class="apidocSignatureSpan">later.D.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.D.extent">
            function <span class="apidocSignatureSpan">later.D.</span>extent
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.D.isValid">
            function <span class="apidocSignatureSpan">later.D.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.D.next">
            function <span class="apidocSignatureSpan">later.D.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.D.prev">
            function <span class="apidocSignatureSpan">later.D.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.D.start">
            function <span class="apidocSignatureSpan">later.D.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.D.val">
            function <span class="apidocSignatureSpan">later.D.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.D.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.D.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.M">module later.M</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.M.end">
            function <span class="apidocSignatureSpan">later.M.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.M.extent">
            function <span class="apidocSignatureSpan">later.M.</span>extent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.M.isValid">
            function <span class="apidocSignatureSpan">later.M.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.M.next">
            function <span class="apidocSignatureSpan">later.M.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.M.prev">
            function <span class="apidocSignatureSpan">later.M.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.M.start">
            function <span class="apidocSignatureSpan">later.M.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.M.val">
            function <span class="apidocSignatureSpan">later.M.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.M.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.M.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.Y">module later.Y</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.Y.end">
            function <span class="apidocSignatureSpan">later.Y.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.Y.extent">
            function <span class="apidocSignatureSpan">later.Y.</span>extent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.Y.isValid">
            function <span class="apidocSignatureSpan">later.Y.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.Y.next">
            function <span class="apidocSignatureSpan">later.Y.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.Y.prev">
            function <span class="apidocSignatureSpan">later.Y.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.Y.start">
            function <span class="apidocSignatureSpan">later.Y.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.Y.val">
            function <span class="apidocSignatureSpan">later.Y.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.Y.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.Y.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.array">module later.array</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.array.next">
            function <span class="apidocSignatureSpan">later.array.</span>next
            <span class="apidocSignatureSpan">(val, values, extent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.array.nextInvalid">
            function <span class="apidocSignatureSpan">later.array.</span>nextInvalid
            <span class="apidocSignatureSpan">(val, values, extent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.array.prev">
            function <span class="apidocSignatureSpan">later.array.</span>prev
            <span class="apidocSignatureSpan">(val, values, extent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.array.prevInvalid">
            function <span class="apidocSignatureSpan">later.array.</span>prevInvalid
            <span class="apidocSignatureSpan">(val, values, extent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.array.sort">
            function <span class="apidocSignatureSpan">later.array.</span>sort
            <span class="apidocSignatureSpan">(arr, zeroIsLast)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.d">module later.d</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.d.end">
            function <span class="apidocSignatureSpan">later.d.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.d.extent">
            function <span class="apidocSignatureSpan">later.d.</span>extent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.d.isValid">
            function <span class="apidocSignatureSpan">later.d.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.d.next">
            function <span class="apidocSignatureSpan">later.d.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.d.prev">
            function <span class="apidocSignatureSpan">later.d.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.d.start">
            function <span class="apidocSignatureSpan">later.d.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.d.val">
            function <span class="apidocSignatureSpan">later.d.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.d.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.d.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.date">module later.date</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">later.date.</span>isUTC</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.UTC">
            function <span class="apidocSignatureSpan">later.date.</span>UTC
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.build">
            function <span class="apidocSignatureSpan">later.date.</span>build
            <span class="apidocSignatureSpan">(Y, M, D, h, m, s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.getDate">
            function <span class="apidocSignatureSpan">later.date.</span>getDate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.getDay">
            function <span class="apidocSignatureSpan">later.date.</span>getDay
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.getHour">
            function <span class="apidocSignatureSpan">later.date.</span>getHour
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.getMin">
            function <span class="apidocSignatureSpan">later.date.</span>getMin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.getMonth">
            function <span class="apidocSignatureSpan">later.date.</span>getMonth
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.getSec">
            function <span class="apidocSignatureSpan">later.date.</span>getSec
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.getYear">
            function <span class="apidocSignatureSpan">later.date.</span>getYear
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.localTime">
            function <span class="apidocSignatureSpan">later.date.</span>localTime
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.next">
            function <span class="apidocSignatureSpan">later.date.</span>next
            <span class="apidocSignatureSpan">(Y, M, D, h, m, s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.nextRollover">
            function <span class="apidocSignatureSpan">later.date.</span>nextRollover
            <span class="apidocSignatureSpan">(d, val, constraint, period)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.prev">
            function <span class="apidocSignatureSpan">later.date.</span>prev
            <span class="apidocSignatureSpan">(Y, M, D, h, m, s)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.prevRollover">
            function <span class="apidocSignatureSpan">later.date.</span>prevRollover
            <span class="apidocSignatureSpan">(d, val, constraint, period)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.date.timezone">
            function <span class="apidocSignatureSpan">later.date.</span>timezone
            <span class="apidocSignatureSpan">(useLocalTime)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.dc">module later.dc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dc.end">
            function <span class="apidocSignatureSpan">later.dc.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dc.extent">
            function <span class="apidocSignatureSpan">later.dc.</span>extent
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dc.isValid">
            function <span class="apidocSignatureSpan">later.dc.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dc.next">
            function <span class="apidocSignatureSpan">later.dc.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dc.prev">
            function <span class="apidocSignatureSpan">later.dc.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dc.start">
            function <span class="apidocSignatureSpan">later.dc.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dc.val">
            function <span class="apidocSignatureSpan">later.dc.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.dc.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.dc.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.dy">module later.dy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dy.end">
            function <span class="apidocSignatureSpan">later.dy.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dy.extent">
            function <span class="apidocSignatureSpan">later.dy.</span>extent
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dy.isValid">
            function <span class="apidocSignatureSpan">later.dy.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dy.next">
            function <span class="apidocSignatureSpan">later.dy.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dy.prev">
            function <span class="apidocSignatureSpan">later.dy.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dy.start">
            function <span class="apidocSignatureSpan">later.dy.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.dy.val">
            function <span class="apidocSignatureSpan">later.dy.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.dy.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.dy.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.fd">module later.fd</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.fd.end">
            function <span class="apidocSignatureSpan">later.fd.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.fd.extent">
            function <span class="apidocSignatureSpan">later.fd.</span>extent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.fd.isValid">
            function <span class="apidocSignatureSpan">later.fd.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.fd.next">
            function <span class="apidocSignatureSpan">later.fd.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.fd.prev">
            function <span class="apidocSignatureSpan">later.fd.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.fd.start">
            function <span class="apidocSignatureSpan">later.fd.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.fd.val">
            function <span class="apidocSignatureSpan">later.fd.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.fd.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.fd.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.h">module later.h</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.h.end">
            function <span class="apidocSignatureSpan">later.h.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.h.extent">
            function <span class="apidocSignatureSpan">later.h.</span>extent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.h.isValid">
            function <span class="apidocSignatureSpan">later.h.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.h.next">
            function <span class="apidocSignatureSpan">later.h.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.h.prev">
            function <span class="apidocSignatureSpan">later.h.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.h.start">
            function <span class="apidocSignatureSpan">later.h.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.h.val">
            function <span class="apidocSignatureSpan">later.h.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.h.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.h.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.index_browserify">module later.index_browserify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.index_browserify.compile">
            function <span class="apidocSignatureSpan">later.index_browserify.</span>compile
            <span class="apidocSignatureSpan">(schedDef)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.index_browserify.schedule">
            function <span class="apidocSignatureSpan">later.index_browserify.</span>schedule
            <span class="apidocSignatureSpan">(sched)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.index_browserify.setInterval">
            function <span class="apidocSignatureSpan">later.index_browserify.</span>setInterval
            <span class="apidocSignatureSpan">(fn, sched)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.index_browserify.setTimeout">
            function <span class="apidocSignatureSpan">later.index_browserify.</span>setTimeout
            <span class="apidocSignatureSpan">(fn, sched)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.index_browserify.</span>DAY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.index_browserify.</span>HOUR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.index_browserify.</span>MIN</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.index_browserify.</span>NEVER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.index_browserify.</span>SEC</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.index_browserify.</span>WEEK</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>D</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>DAYS_IN_MONTH</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>M</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>Y</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>array</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>d</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>date</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>day</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>dayOfWeek</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>dayOfWeekCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>dayOfYear</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>dc</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>dw</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>dy</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>fd</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>fullDate</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>h</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>hour</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>m</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>minute</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>modifier</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>month</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>parse</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>s</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>second</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>t</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>time</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>weekOfMonth</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>weekOfYear</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>wm</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>wy</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">later.index_browserify.</span>year</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.index_browserify.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.m">module later.m</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.m.end">
            function <span class="apidocSignatureSpan">later.m.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.m.extent">
            function <span class="apidocSignatureSpan">later.m.</span>extent
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.m.isValid">
            function <span class="apidocSignatureSpan">later.m.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.m.next">
            function <span class="apidocSignatureSpan">later.m.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.m.prev">
            function <span class="apidocSignatureSpan">later.m.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.m.start">
            function <span class="apidocSignatureSpan">later.m.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.m.val">
            function <span class="apidocSignatureSpan">later.m.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.m.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.m.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.modifier">module later.modifier</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.modifier.a">
            function <span class="apidocSignatureSpan">later.modifier.</span>a
            <span class="apidocSignatureSpan">(constraint, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.modifier.after">
            function <span class="apidocSignatureSpan">later.modifier.</span>after
            <span class="apidocSignatureSpan">(constraint, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.modifier.b">
            function <span class="apidocSignatureSpan">later.modifier.</span>b
            <span class="apidocSignatureSpan">(constraint, values)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.modifier.before">
            function <span class="apidocSignatureSpan">later.modifier.</span>before
            <span class="apidocSignatureSpan">(constraint, values)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.parse">module later.parse</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.parse.cron">
            function <span class="apidocSignatureSpan">later.parse.</span>cron
            <span class="apidocSignatureSpan">(expr, hasSeconds)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.parse.recur">
            function <span class="apidocSignatureSpan">later.parse.</span>recur
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.parse.text">
            function <span class="apidocSignatureSpan">later.parse.</span>text
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.s">module later.s</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.s.end">
            function <span class="apidocSignatureSpan">later.s.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.s.extent">
            function <span class="apidocSignatureSpan">later.s.</span>extent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.s.isValid">
            function <span class="apidocSignatureSpan">later.s.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.s.next">
            function <span class="apidocSignatureSpan">later.s.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.s.prev">
            function <span class="apidocSignatureSpan">later.s.</span>prev
            <span class="apidocSignatureSpan">(d, val, cache)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.s.start">
            function <span class="apidocSignatureSpan">later.s.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.s.val">
            function <span class="apidocSignatureSpan">later.s.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.s.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.s.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.t">module later.t</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.t.end">
            function <span class="apidocSignatureSpan">later.t.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.t.extent">
            function <span class="apidocSignatureSpan">later.t.</span>extent
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.t.isValid">
            function <span class="apidocSignatureSpan">later.t.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.t.next">
            function <span class="apidocSignatureSpan">later.t.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.t.prev">
            function <span class="apidocSignatureSpan">later.t.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.t.start">
            function <span class="apidocSignatureSpan">later.t.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.t.val">
            function <span class="apidocSignatureSpan">later.t.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.t.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.t.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.wm">module later.wm</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wm.end">
            function <span class="apidocSignatureSpan">later.wm.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wm.extent">
            function <span class="apidocSignatureSpan">later.wm.</span>extent
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wm.isValid">
            function <span class="apidocSignatureSpan">later.wm.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wm.next">
            function <span class="apidocSignatureSpan">later.wm.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wm.prev">
            function <span class="apidocSignatureSpan">later.wm.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wm.start">
            function <span class="apidocSignatureSpan">later.wm.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wm.val">
            function <span class="apidocSignatureSpan">later.wm.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.wm.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.wm.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.later.wy">module later.wy</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wy.end">
            function <span class="apidocSignatureSpan">later.wy.</span>end
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wy.extent">
            function <span class="apidocSignatureSpan">later.wy.</span>extent
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wy.isValid">
            function <span class="apidocSignatureSpan">later.wy.</span>isValid
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wy.next">
            function <span class="apidocSignatureSpan">later.wy.</span>next
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wy.prev">
            function <span class="apidocSignatureSpan">later.wy.</span>prev
            <span class="apidocSignatureSpan">(d, val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wy.start">
            function <span class="apidocSignatureSpan">later.wy.</span>start
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.later.wy.val">
            function <span class="apidocSignatureSpan">later.wy.</span>val
            <span class="apidocSignatureSpan">(d)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">later.wy.</span>range</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">later.wy.</span>name</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later" id="apidoc.module.later">module later</a></h1>


    <h2>
        <a href="#apidoc.element.later.compile" id="apidoc.element.later.compile">
        function <span class="apidocSignatureSpan">later.</span>compile
        <span class="apidocSignatureSpan">(schedDef)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compile = function (schedDef) {
  var constraints = [], constraintsLen = 0, tickConstraint;
  for (var key in schedDef) {
    var nameParts = key.split(&#x22;_&#x22;), name = nameParts[0], mod = nameParts[1], vals = schedDef[key], constraint = mod ? later.modifier
[mod](later[name], vals) : later[name];
    constraints.push({
      constraint: constraint,
      vals: vals
    });
    constraintsLen++;
  }
  constraints.sort(function(a, b) {
    var ra = a.constraint.range, rb = b.constraint.range;
    return rb &#x3c; ra ? -1 : rb &#x3e; ra ? 1 : 0;
  });
  tickConstraint = constraints[constraintsLen - 1].constraint;
  function compareFn(dir) {
    return dir === &#x22;next&#x22; ? function(a, b) {
      return a.getTime() &#x3e; b.getTime();
    } : function(a, b) {
      return b.getTime() &#x3e; a.getTime();
    };
  }
  return {
    start: function(dir, startDate) {
      var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
      while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
        done = true;
        for (var i = 0; i &#x3c; constraintsLen; i++) {
          var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal =
nextVal(curVal, constraints[i].vals, extent);
          if (!constraint.isValid(next, newVal)) {
            next = constraint[dir](next, newVal);
            done = false;
            break;
          }
        }
      }
      if (next !== later.NEVER) {
        next = dir === &#x22;next&#x22; ? tickConstraint.start(next) : tickConstraint.end(next);
      }
      return next;
    },
    end: function(dir, startDate) {
      var result, nextVal = later.array[dir + &#x22;Invalid&#x22;], compare = compareFn(dir);
      for (var i = constraintsLen - 1; i &#x3e;= 0; i--) {
        var constraint = constraints[i].constraint, curVal = constraint.val(startDate), extent = constraint.extent(startDate), newVal
 = nextVal(curVal, constraints[i].vals, extent), next;
        if (newVal !== undefined) {
          next = constraint[dir](startDate, newVal);
          if (next &#x26;&#x26; (!result || compare(result, next))) {
            result = next;
          }
        }
      }
      return result;
    },
    tick: function(dir, date) {
      return new Date(dir === &#x22;next&#x22; ? tickConstraint.end(date).getTime() + later.SEC : tickConstraint.start(date).getTime() - later
.SEC);
    },
    tickStart: function(date) {
      return tickConstraint.start(date);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };
};
later.schedule = function(sched) {
  if (!sched) throw new Error(&#x22;Missing schedule definition.&#x22;);
  if (!sched.schedules) throw new Error(&#x22;Definition must include at least one schedule.&#x22;);
  var schedules = [], schedulesLen = sched.schedules.length, exceptions = [], exceptionsLen = sched.exceptions ? sched.exceptions
.length : 0;
  for (var i = 0; i &#x3c; schedulesLen; i++) {
    schedules.push(later.<span class="apidocCodeKeywordSpan">compile</span>(sched.schedules[i]));
  }
  for (var j = 0; j &#x3c; exceptionsLen; j++) {
    exceptions.push(later.compile(sched.exceptions[j]));
  }
  function getInstances(dir, count, startDate, endDate, isRange) {
    var compare = compareFn(dir), loopCount = count, maxAttempts = 1e3, schedStarts = [], exceptStarts = [], next, end, results = [],
isForward = dir === &#x22;next&#x22;, lastResult, rStart = isForward ? 0 : 1, rEnd = isForward ? 1 : 0;
    startDate = startDate ? new Date(startDate) : new Date();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.schedule" id="apidoc.element.later.schedule">
        function <span class="apidocSignatureSpan">later.</span>schedule
        <span class="apidocSignatureSpan">(sched)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">schedule = function (sched) {
  if (!sched) throw new Error(&#x22;Missing schedule definition.&#x22;);
  if (!sched.schedules) throw new Error(&#x22;Definition must include at least one schedule.&#x22;);
  var schedules = [], schedulesLen = sched.schedules.length, exceptions = [], exceptionsLen = sched.exceptions ? sched.exceptions
.length : 0;
  for (var i = 0; i &#x3c; schedulesLen; i++) {
    schedules.push(later.compile(sched.schedules[i]));
  }
  for (var j = 0; j &#x3c; exceptionsLen; j++) {
    exceptions.push(later.compile(sched.exceptions[j]));
  }
  function getInstances(dir, count, startDate, endDate, isRange) {
    var compare = compareFn(dir), loopCount = count, maxAttempts = 1e3, schedStarts = [], exceptStarts = [], next, end, results = [],
isForward = dir === &#x22;next&#x22;, lastResult, rStart = isForward ? 0 : 1, rEnd = isForward ? 1 : 0;
    startDate = startDate ? new Date(startDate) : new Date();
    if (!startDate || !startDate.getTime()) throw new Error(&#x22;Invalid start date.&#x22;);
    setNextStarts(dir, schedules, schedStarts, startDate);
    setRangeStarts(dir, exceptions, exceptStarts, startDate);
    while (maxAttempts-- &#x26;&#x26; loopCount &#x26;&#x26; (next = findNext(schedStarts, compare))) {
      if (endDate &#x26;&#x26; compare(next, endDate)) {
        break;
      }
      if (exceptionsLen) {
        updateRangeStarts(dir, exceptions, exceptStarts, next);
        if (end = calcRangeOverlap(dir, exceptStarts, next)) {
          updateNextStarts(dir, schedules, schedStarts, end);
          continue;
        }
      }
      if (isRange) {
        var maxEndDate = calcMaxEndDate(exceptStarts, compare);
        end = calcEnd(dir, schedules, schedStarts, next, maxEndDate);
        var r = isForward ? [ new Date(Math.max(startDate, next)), end ? new Date(endDate ? Math.min(end, endDate) : end) : undefined
 ] : [ end ? new Date(endDate ? Math.max(endDate, end.getTime() + later.SEC) : end.getTime() + later.SEC) : undefined, new Date(
Math.min(startDate, next.getTime() + later.SEC)) ];
        if (lastResult &#x26;&#x26; r[rStart].getTime() === lastResult[rEnd].getTime()) {
          lastResult[rEnd] = r[rEnd];
          loopCount++;
        } else {
          lastResult = r;
          results.push(lastResult);
        }
        if (!end) break;
        updateNextStarts(dir, schedules, schedStarts, end);
      } else {
        results.push(isForward ? new Date(Math.max(startDate, next)) : getStart(schedules, schedStarts, next, endDate));
        tickStarts(dir, schedules, schedStarts, next);
      }
      loopCount--;
    }
    for (var i = 0, len = results.length; i &#x3c; len; i++) {
      var result = results[i];
      results[i] = Object.prototype.toString.call(result) === &#x22;[object Array]&#x22; ? [ cleanDate(result[0]), cleanDate(result[1]) ] :
cleanDate(result);
    }
    return results.length === 0 ? later.NEVER : count === 1 ? results[0] : results;
  }
  function cleanDate(d) {
    if (d instanceof Date &#x26;&#x26; !isNaN(d.valueOf())) {
      return new Date(d);
    }
    return undefined;
  }
  function setNextStarts(dir, schedArr, startsArr, startDate) {
    for (var i = 0, len = schedArr.length; i &#x3c; len; i++) {
      startsArr[i] = schedArr[i].start(dir, startDate);
    }
  }
  function updateNextStarts(dir, schedArr, startsArr, startDate) {
    var compare = compareFn(dir);
    for (var i = 0, len = schedArr.length; i &#x3c; len; i++) {
      if (startsArr[i] &#x26;&#x26; !compare(startsArr[i], startDate)) {
        startsArr[i] = schedArr[i].start(dir, startDate);
      }
    }
  }
  function setRangeStarts(dir, schedArr, rangesArr, startDate) {
    var compare = compareFn(dir);
    for (var i = 0, len = schedArr.length; i &#x3c; len; i++) {
      var nextStart = schedArr[i].start(dir, startDate);
      if (!nextStart) {
        rangesArr[i] = later.NEVER;
      } else {
        rangesArr[i] = [ nextStart, schedArr[i].end(dir, nextStart) ];
      }
    }
  }
  function updateRangeStarts(dir, schedArr, rangesArr, startDate) {
    var compare = compareFn(dir);
    for (var i = 0, len = schedArr.length; i &#x3c; len; i++) {
      if (rangesArr[i] &#x26;&#x26; !compare(rangesArr[i][0], startDate)) {
        var nextStart = schedA ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    },
    prevRange: function(count, startDate, endDate) {
      return getInstances(&#x22;prev&#x22;, count || 1, startDate, endDate, true);
    }
  };
};
later.setTimeout = function(fn, sched) {
  var s = later.<span class="apidocCodeKeywordSpan">schedule</span>(sched), t;
  if (fn) {
    scheduleTimeout();
  }
  function scheduleTimeout() {
    var now = Date.now(), next = s.next(2, now);
    if (!next[0]) {
      t = undefined;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.setInterval" id="apidoc.element.later.setInterval">
        function <span class="apidocSignatureSpan">later.</span>setInterval
        <span class="apidocSignatureSpan">(fn, sched)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setInterval = function (fn, sched) {
  if (!fn) {
    return;
  }
  var t = later.setTimeout(scheduleTimeout, sched), done = t.isDone();
  function scheduleTimeout() {
    if (!done) {
      fn();
      t = later.setTimeout(scheduleTimeout, sched);
    }
  }
  return {
    isDone: function() {
      return t.isDone();
    },
    clear: function() {
      done = true;
      t.clear();
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

describe(&#x27;Set interval&#x27;, function() {

  it(&#x27;should execute a callback after the specified amount of time&#x27;, function(done) {
this.timeout(0);

var s = later.parse.recur().every(1).second(),
    t = later.<span class="apidocCodeKeywordSpan">setInterval</span>(test, s),
    count = 0;

function test() {
  later.schedule(s).isValid(new Date()).should.eql(true);
  count++;
  if(count &#x3e; 2) {
    t.clear();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.setTimeout" id="apidoc.element.later.setTimeout">
        function <span class="apidocSignatureSpan">later.</span>setTimeout
        <span class="apidocSignatureSpan">(fn, sched)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTimeout = function (fn, sched) {
  var s = later.schedule(sched), t;
  if (fn) {
    scheduleTimeout();
  }
  function scheduleTimeout() {
    var now = Date.now(), next = s.next(2, now);
    if (!next[0]) {
      t = undefined;
      return;
    }
    var diff = next[0].getTime() - now;
    if (diff &#x3c; 1e3) {
      diff = next[1] ? next[1].getTime() - now : 1e3;
    }
    if (diff &#x3c; 2147483647) {
      t = setTimeout(fn, diff);
    } else {
      t = setTimeout(scheduleTimeout, 2147483647);
    }
  }
  return {
    isDone: function() {
      return !t;
    },
    clear: function() {
      clearTimeout(t);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  };
};
later.setInterval = function(fn, sched) {
  if (!fn) {
    return;
  }
  var t = later.<span class="apidocCodeKeywordSpan">setTimeout</span>(scheduleTimeout, sched), done = t.isDone();
  function scheduleTimeout() {
    if (!done) {
      fn();
      t = later.setTimeout(scheduleTimeout, sched);
    }
  }
  return {
...</pre></li>
    </ul>


















































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.D" id="apidoc.module.later.D">module later.D</a></h1>


    <h2>
        <a href="#apidoc.element.later.D.end" id="apidoc.element.later.D.end">
        function <span class="apidocSignatureSpan">later.D.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.D.extent" id="apidoc.element.later.D.extent">
        function <span class="apidocSignatureSpan">later.D.</span>extent
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function (d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.D.isValid" id="apidoc.element.later.D.isValid">
        function <span class="apidocSignatureSpan">later.D.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.D.val(d) === (val || later.D.extent(d)[1]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.D.next" id="apidoc.element.later.D.next">
        function <span class="apidocSignatureSpan">later.D.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.D.prev" id="apidoc.element.later.D.prev">
        function <span class="apidocSignatureSpan">later.D.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  var month = later.date.prevRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  return later.date.prev(later.Y.val(month), later.M.val(month), val &#x3e; DMax ? DMax : val || DMax);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.D.start" id="apidoc.element.later.D.start">
        function <span class="apidocSignatureSpan">later.D.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.D.val" id="apidoc.element.later.D.val">
        function <span class="apidocSignatureSpan">later.D.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.D || (d.D = later.date.getDate.call(d));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.M" id="apidoc.module.later.M">module later.M</a></h1>


    <h2>
        <a href="#apidoc.element.later.M.end" id="apidoc.element.later.M.end">
        function <span class="apidocSignatureSpan">later.M.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.MEnd || (d.MEnd = later.date.prev(later.Y.val(d), later.M.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.M.extent" id="apidoc.element.later.M.extent">
        function <span class="apidocSignatureSpan">later.M.</span>extent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function () {
  return [ 1, 12 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.M.isValid" id="apidoc.element.later.M.isValid">
        function <span class="apidocSignatureSpan">later.M.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.M.val(d) === (val || 12);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.M.next" id="apidoc.element.later.M.next">
        function <span class="apidocSignatureSpan">later.M.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; 12 ? 1 : val || 12;
  return later.date.next(later.Y.val(d) + (val &#x3e; later.M.val(d) ? 0 : 1), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.M.prev" id="apidoc.element.later.M.prev">
        function <span class="apidocSignatureSpan">later.M.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  val = val &#x3e; 12 ? 12 : val || 12;
  return later.date.prev(later.Y.val(d) - (val &#x3e;= later.M.val(d) ? 1 : 0), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.M.start" id="apidoc.element.later.M.start">
        function <span class="apidocSignatureSpan">later.M.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.MStart || (d.MStart = later.date.next(later.Y.val(d), later.M.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.M.val" id="apidoc.element.later.M.val">
        function <span class="apidocSignatureSpan">later.M.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.M || (d.M = later.date.getMonth.call(d) + 1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.Y" id="apidoc.module.later.Y">module later.Y</a></h1>


    <h2>
        <a href="#apidoc.element.later.Y.end" id="apidoc.element.later.Y.end">
        function <span class="apidocSignatureSpan">later.Y.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.YEnd || (d.YEnd = later.date.prev(later.Y.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.Y.extent" id="apidoc.element.later.Y.extent">
        function <span class="apidocSignatureSpan">later.Y.</span>extent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function () {
  return [ 1970, 2099 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.Y.isValid" id="apidoc.element.later.Y.isValid">
        function <span class="apidocSignatureSpan">later.Y.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.Y.val(d) === val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.Y.next" id="apidoc.element.later.Y.next">
        function <span class="apidocSignatureSpan">later.Y.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  return val &#x3e; later.Y.val(d) &#x26;&#x26; val &#x3c;= later.Y.extent()[1] ? later.date.next(val) : later.NEVER;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.Y.prev" id="apidoc.element.later.Y.prev">
        function <span class="apidocSignatureSpan">later.Y.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  return val &#x3c; later.Y.val(d) &#x26;&#x26; val &#x3e;= later.Y.extent()[0] ? later.date.prev(val) : later.NEVER;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.Y.start" id="apidoc.element.later.Y.start">
        function <span class="apidocSignatureSpan">later.Y.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.YStart || (d.YStart = later.date.next(later.Y.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.Y.val" id="apidoc.element.later.Y.val">
        function <span class="apidocSignatureSpan">later.Y.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.Y || (d.Y = later.date.getYear.call(d));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.array" id="apidoc.module.later.array">module later.array</a></h1>


    <h2>
        <a href="#apidoc.element.later.array.next" id="apidoc.element.later.array.next">
        function <span class="apidocSignatureSpan">later.array.</span>next
        <span class="apidocSignatureSpan">(val, values, extent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (val, values, extent) {
  var cur, zeroIsLargest = extent[0] !== 0, nextIdx = 0;
  for (var i = values.length - 1; i &#x3e; -1; --i) {
    cur = values[i];
    if (cur === val) {
      return cur;
    }
    if (cur &#x3e; val || cur === 0 &#x26;&#x26; zeroIsLargest &#x26;&#x26; extent[1] &#x3e; val) {
      nextIdx = i;
      continue;
    }
    break;
  }
  return values[nextIdx];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.array.nextInvalid" id="apidoc.element.later.array.nextInvalid">
        function <span class="apidocSignatureSpan">later.array.</span>nextInvalid
        <span class="apidocSignatureSpan">(val, values, extent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextInvalid = function (val, values, extent) {
  var min = extent[0], max = extent[1], len = values.length, zeroVal = values[len - 1] === 0 &#x26;&#x26; min !== 0 ? max : 0, next = val,
i = values.indexOf(val), start = next;
  while (next === (values[i] || zeroVal)) {
    next++;
    if (next &#x3e; max) {
      next = min;
    }
    i++;
    if (i === len) {
      i = 0;
    }
    if (next === start) {
      return undefined;
    }
  }
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

it(&#x27;should return the next invalid value&#x27;, function() {
  var arr = [1,2,5],
      extent = [1,5],
      cur = 2,
      expected = 3,
      actual = later.array.<span class="apidocCodeKeywordSpan">nextInvalid</span>(cur, arr, extent);

  actual.should.eql(expected);
});

it(&#x27;should return the next invalid value when greater than arr&#x27;, function() {
  var arr = [1,2,5],
      extent = [1,10],
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.array.prev" id="apidoc.element.later.array.prev">
        function <span class="apidocSignatureSpan">later.array.</span>prev
        <span class="apidocSignatureSpan">(val, values, extent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (val, values, extent) {
  var cur, len = values.length, zeroIsLargest = extent[0] !== 0, prevIdx = len - 1;
  for (var i = 0; i &#x3c; len; i++) {
    cur = values[i];
    if (cur === val) {
      return cur;
    }
    if (cur &#x3c; val || cur === 0 &#x26;&#x26; zeroIsLargest &#x26;&#x26; extent[1] &#x3c; val) {
      prevIdx = i;
      continue;
    }
    break;
  }
  return values[prevIdx];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.array.prevInvalid" id="apidoc.element.later.array.prevInvalid">
        function <span class="apidocSignatureSpan">later.array.</span>prevInvalid
        <span class="apidocSignatureSpan">(val, values, extent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevInvalid = function (val, values, extent) {
  var min = extent[0], max = extent[1], len = values.length, zeroVal = values[len - 1] === 0 &#x26;&#x26; min !== 0 ? max : 0, next = val,
i = values.indexOf(val), start = next;
  while (next === (values[i] || zeroVal)) {
    next--;
    if (next &#x3c; min) {
      next = max;
    }
    i--;
    if (i === -1) {
      i = len - 1;
    }
    if (next === start) {
      return undefined;
    }
  }
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

it(&#x27;should return the previous invalid value&#x27;, function() {
  var arr = [1,2,5],
      extent = [1,5],
      cur = 5,
      expected = 4,
      actual = later.array.<span class="apidocCodeKeywordSpan">prevInvalid</span>(cur, arr, extent);

  actual.should.eql(expected);
});

it(&#x27;should return the previous invalid value when less than arr&#x27;, function() {
  var arr = [2,3,5],
      extent = [1,10],
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.array.sort" id="apidoc.element.later.array.sort">
        function <span class="apidocSignatureSpan">later.array.</span>sort
        <span class="apidocSignatureSpan">(arr, zeroIsLast)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sort = function (arr, zeroIsLast) {
  arr.sort(function(a, b) {
    return +a - +b;
  });
  if (zeroIsLast &#x26;&#x26; arr[0] === 0) {
    arr.push(arr.shift());
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!String.prototype.trim) {
  String.prototype.trim = function() {
    return this.replace(/^\s+|\s+$/g, &#x22;&#x22;);
  };
}
later.array = {};
later.array.sort = function(arr, zeroIsLast) {
  arr.<span class="apidocCodeKeywordSpan">sort</span>(function(a, b) {
    return +a - +b;
  });
  if (zeroIsLast &#x26;&#x26; arr[0] === 0) {
    arr.push(arr.shift());
  }
};
later.array.next = function(val, values, extent) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.d" id="apidoc.module.later.d">module later.d</a></h1>


    <h2>
        <a href="#apidoc.element.later.d.end" id="apidoc.element.later.d.end">
        function <span class="apidocSignatureSpan">later.d.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return later.D.end(d);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.d.extent" id="apidoc.element.later.d.extent">
        function <span class="apidocSignatureSpan">later.d.</span>extent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function () {
  return [ 1, 7 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.d.isValid" id="apidoc.element.later.d.isValid">
        function <span class="apidocSignatureSpan">later.d.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.dw.val(d) === (val || 7);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.d.next" id="apidoc.element.later.d.next">
        function <span class="apidocSignatureSpan">later.d.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ? 7 :
0));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.d.prev" id="apidoc.element.later.d.prev">
        function <span class="apidocSignatureSpan">later.d.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  val = val &#x3e; 7 ? 7 : val || 7;
  return later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3e;= later.dw.val(d) ? -7
 : 0));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.d.start" id="apidoc.element.later.d.start">
        function <span class="apidocSignatureSpan">later.d.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return later.D.start(d);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.d.val" id="apidoc.element.later.d.val">
        function <span class="apidocSignatureSpan">later.d.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.dw || (d.dw = later.date.getDay.call(d) + 1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.date" id="apidoc.module.later.date">module later.date</a></h1>




    <h2>
        <a href="#apidoc.element.later.date.UTC" id="apidoc.element.later.date.UTC">
        function <span class="apidocSignatureSpan">later.date.</span>UTC
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">UTC = function () {
  later.date.timezone(false);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };
};
later.date = {};
later.date.timezone = function(useLocalTime) {
  later.date.build = useLocalTime ? function(Y, M, D, h, m, s) {
    return new Date(Y, M, D, h, m, s);
  } : function(Y, M, D, h, m, s) {
    return new Date(Date.<span class="apidocCodeKeywordSpan">UTC</span>(Y, M, D, h, m, s));
  };
  var get = useLocalTime ? &#x22;get&#x22; : &#x22;getUTC&#x22;, d = Date.prototype;
  later.date.getYear = d[get + &#x22;FullYear&#x22;];
  later.date.getMonth = d[get + &#x22;Month&#x22;];
  later.date.getDate = d[get + &#x22;Date&#x22;];
  later.date.getDay = d[get + &#x22;Day&#x22;];
  later.date.getHour = d[get + &#x22;Hours&#x22;];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.build" id="apidoc.element.later.date.build">
        function <span class="apidocSignatureSpan">later.date.</span>build
        <span class="apidocSignatureSpan">(Y, M, D, h, m, s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">build = function (Y, M, D, h, m, s) {
  return new Date(Date.UTC(Y, M, D, h, m, s));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
later.MIN = later.SEC * 60;
later.HOUR = later.MIN * 60;
later.DAY = later.HOUR * 24;
later.WEEK = later.DAY * 7;
later.DAYS_IN_MONTH = [ 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 ];
later.NEVER = 0;
later.date.next = function(Y, M, D, h, m, s) {
  return later.date.<span class="apidocCodeKeywordSpan">build</span>(Y, M !== undefined ? M - 1 : 0, D !== undefined ? D : 1, h ||
0, m || 0, s || 0);
};
later.date.nextRollover = function(d, val, constraint, period) {
  var cur = constraint.val(d), max = constraint.extent(d)[1];
  return (val || max) &#x3c;= cur || val &#x3e; max ? new Date(period.end(d).getTime() + later.SEC) : period.start(d);
};
later.date.prev = function(Y, M, D, h, m, s) {
  var len = arguments.length;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.getDate" id="apidoc.element.later.date.getDate">
        function <span class="apidocSignatureSpan">later.date.</span>getDate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUTCDate() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...


var should = require(&#x27;should&#x27;);

module.exports = runner = function (later, constraint) {

function convertToUTC(d) {
  return new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.<span class="apidocCodeKeywordSpan">getDate</span>(),
    d.getHours(), d.getMinutes(), d.getSeconds()));
}

function runSingleTest(fn, data, utc) {
  var date = utc ? convertToUTC(data.date) : data.date,
      dateString = utc ? date.toUTCString() : date,
      ex = utc &#x26;&#x26; (data[fn] instanceof Date) ? convertToUTC(data[fn]) : data[fn],
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.getDay" id="apidoc.element.later.date.getDay">
        function <span class="apidocSignatureSpan">later.date.</span>getDay
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUTCDay() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.getHour" id="apidoc.element.later.date.getHour">
        function <span class="apidocSignatureSpan">later.date.</span>getHour
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUTCHours() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.getMin" id="apidoc.element.later.date.getMin">
        function <span class="apidocSignatureSpan">later.date.</span>getMin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUTCMinutes() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.getMonth" id="apidoc.element.later.date.getMonth">
        function <span class="apidocSignatureSpan">later.date.</span>getMonth
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUTCMonth() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...


var should = require(&#x27;should&#x27;);

module.exports = runner = function (later, constraint) {

function convertToUTC(d) {
  return new Date(Date.UTC(d.getFullYear(), d.<span class="apidocCodeKeywordSpan">getMonth</span>(), d.getDate(),
    d.getHours(), d.getMinutes(), d.getSeconds()));
}

function runSingleTest(fn, data, utc) {
  var date = utc ? convertToUTC(data.date) : data.date,
      dateString = utc ? date.toUTCString() : date,
      ex = utc &#x26;&#x26; (data[fn] instanceof Date) ? convertToUTC(data[fn]) : data[fn],
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.getSec" id="apidoc.element.later.date.getSec">
        function <span class="apidocSignatureSpan">later.date.</span>getSec
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUTCSeconds() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.getYear" id="apidoc.element.later.date.getYear">
        function <span class="apidocSignatureSpan">later.date.</span>getYear
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getUTCFullYear() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.localTime" id="apidoc.element.later.date.localTime">
        function <span class="apidocSignatureSpan">later.date.</span>localTime
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">localTime = function () {
  later.date.timezone(true);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* Added support for finding valid ranges as well as valid instances of schedules
- _Later_ can now be used to schedule activities and meetings as well as point in time occurrences
* Improved support for finding past ranges and instances
- Searching forward or backward now produces the same valid occurrences
* No more need to specify a resolution!
- _Later_ now automatically handles this internally, you no longer need to specify your desired resolution. &#x27;Every 5 minutes
&#x27; now does exactly what you would expect it to :)
* Changing between UTC and local time has changed.
- Use `later.date.UTC()` and `later.date.<span class="apidocCodeKeywordSpan">localTime</span>()` to switch between the two.
* API for parsers has changed.
- Recur is now at `later.parse.recur()`
- Cron is now at `later.parse.cron(expr)`
- Text is now at `later.parse.text(expr)`
* API for calculating occurrences has changed.
- Schedules are now compiled using `later.schedule(schedule)`
- getNext is now `later.schedule(schedule).next(count, start, end)`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.next" id="apidoc.element.later.date.next">
        function <span class="apidocSignatureSpan">later.date.</span>next
        <span class="apidocSignatureSpan">(Y, M, D, h, m, s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (Y, M, D, h, m, s) {
  return later.date.build(Y, M !== undefined ? M - 1 : 0, D !== undefined ? D : 1, h || 0, m || 0, s || 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.nextRollover" id="apidoc.element.later.date.nextRollover">
        function <span class="apidocSignatureSpan">later.date.</span>nextRollover
        <span class="apidocSignatureSpan">(d, val, constraint, period)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nextRollover = function (d, val, constraint, period) {
  var cur = constraint.val(d), max = constraint.extent(d)[1];
  return (val || max) &#x3c;= cur || val &#x3e; max ? new Date(period.end(d).getTime() + later.SEC) : period.start(d);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.<span class="apidocCodeKeywordSpan">nextRollover</span>(d, val, later.D, later.M), DMax = later.D.extent
(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
prev: function(d, val) {
  var month = later.date.prevRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  return later.date.prev(later.Y.val(month), later.M.val(month), val &#x3e; DMax ? DMax : val || DMax);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.prev" id="apidoc.element.later.date.prev">
        function <span class="apidocSignatureSpan">later.date.</span>prev
        <span class="apidocSignatureSpan">(Y, M, D, h, m, s)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (Y, M, D, h, m, s) {
  var len = arguments.length;
  M = len &#x3c; 2 ? 11 : M - 1;
  D = len &#x3c; 3 ? later.D.extent(later.date.next(Y, M + 1))[1] : D;
  h = len &#x3c; 4 ? 23 : h;
  m = len &#x3c; 5 ? 59 : m;
  s = len &#x3c; 6 ? 59 : s;
  return later.date.build(Y, M, D, h, m, s);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.prevRollover" id="apidoc.element.later.date.prevRollover">
        function <span class="apidocSignatureSpan">later.date.</span>prevRollover
        <span class="apidocSignatureSpan">(d, val, constraint, period)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prevRollover = function (d, val, constraint, period) {
  var cur = constraint.val(d);
  return val &#x3e;= cur || !val ? period.start(period.prev(d, period.val(d) - 1)) : period.start(d);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  next: function(d, val) {
    val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
    var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
    val = val &#x3e; DMax ? 1 : val || DMax;
    return later.date.next(later.Y.val(month), later.M.val(month), val);
  },
  prev: function(d, val) {
    var month = later.date.<span class="apidocCodeKeywordSpan">prevRollover</span>(d, val, later.D, later.M), DMax = later.D.extent
(month)[1];
    return later.date.prev(later.Y.val(month), later.M.val(month), val &#x3e; DMax ? DMax : val || DMax);
  }
};
later.dayOfWeekCount = later.dc = {
  name: &#x22;day of week count&#x22;,
  range: 604800,
  val: function(d) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.date.timezone" id="apidoc.element.later.date.timezone">
        function <span class="apidocSignatureSpan">later.date.</span>timezone
        <span class="apidocSignatureSpan">(useLocalTime)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">timezone = function (useLocalTime) {
  later.date.build = useLocalTime ? function(Y, M, D, h, m, s) {
    return new Date(Y, M, D, h, m, s);
  } : function(Y, M, D, h, m, s) {
    return new Date(Date.UTC(Y, M, D, h, m, s));
  };
  var get = useLocalTime ? &#x22;get&#x22; : &#x22;getUTC&#x22;, d = Date.prototype;
  later.date.getYear = d[get + &#x22;FullYear&#x22;];
  later.date.getMonth = d[get + &#x22;Month&#x22;];
  later.date.getDate = d[get + &#x22;Date&#x22;];
  later.date.getDay = d[get + &#x22;Day&#x22;];
  later.date.getHour = d[get + &#x22;Hours&#x22;];
  later.date.getMin = d[get + &#x22;Minutes&#x22;];
  later.date.getSec = d[get + &#x22;Seconds&#x22;];
  later.date.isUTC = !useLocalTime;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.date.getDay = d[get + &#x22;Day&#x22;];
  later.date.getHour = d[get + &#x22;Hours&#x22;];
  later.date.getMin = d[get + &#x22;Minutes&#x22;];
  later.date.getSec = d[get + &#x22;Seconds&#x22;];
  later.date.isUTC = !useLocalTime;
};
later.date.UTC = function() {
  later.date.<span class="apidocCodeKeywordSpan">timezone</span>(false);
};
later.date.localTime = function() {
  later.date.timezone(true);
};
later.date.UTC();
later.SEC = 1e3;
later.MIN = later.SEC * 60;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.dc" id="apidoc.module.later.dc">module later.dc</a></h1>


    <h2>
        <a href="#apidoc.element.later.dc.end" id="apidoc.element.later.dc.end">
        function <span class="apidocSignatureSpan">later.dc.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.dcEnd || (d.dcEnd = later.date.prev(later.Y.val(d), later.M.val(d), Math.min(later.dc.val(d) * 7, later.D.extent(d)[1
])));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dc.extent" id="apidoc.element.later.dc.extent">
        function <span class="apidocSignatureSpan">later.dc.</span>extent
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function (d) {
  return d.dcExtent || (d.dcExtent = [ 1, Math.ceil(later.D.extent(d)[1] / 7) ]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dc.isValid" id="apidoc.element.later.dc.isValid">
        function <span class="apidocSignatureSpan">later.dc.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.dc.val(d) === val || val === 0 &#x26;&#x26; later.D.val(d) &#x3e; later.D.extent(d)[1] - 7;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dc.next" id="apidoc.element.later.dc.next">
        function <span class="apidocSignatureSpan">later.dc.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; later.dc.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
  val = val &#x3e; dcMax ? 1 : val;
  var next = later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
  if (next.getTime() &#x3c;= d.getTime()) {
    month = later.M.next(d, later.M.val(d) + 1);
    return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1));
  }
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dc.prev" id="apidoc.element.later.dc.prev">
        function <span class="apidocSignatureSpan">later.dc.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
  val = val &#x3e; dcMax ? dcMax : val || dcMax;
  return later.dc.end(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7 * (val - 1)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dc.start" id="apidoc.element.later.dc.start">
        function <span class="apidocSignatureSpan">later.dc.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.dcStart || (d.dcStart = later.date.next(later.Y.val(d), later.M.val(d), Math.max(1, (later.dc.val(d) - 1) * 7 + 1 ||
1)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dc.val" id="apidoc.element.later.dc.val">
        function <span class="apidocSignatureSpan">later.dc.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.dc || (d.dc = Math.floor((later.D.val(d) - 1) / 7) + 1);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.dy" id="apidoc.module.later.dy">module later.dy</a></h1>


    <h2>
        <a href="#apidoc.element.later.dy.end" id="apidoc.element.later.dy.end">
        function <span class="apidocSignatureSpan">later.dy.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return later.D.end(d);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dy.extent" id="apidoc.element.later.dy.extent">
        function <span class="apidocSignatureSpan">later.dy.</span>extent
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function (d) {
  var year = later.Y.val(d);
  return d.dyExtent || (d.dyExtent = [ 1, year % 4 ? 365 : 366 ]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dy.isValid" id="apidoc.element.later.dy.isValid">
        function <span class="apidocSignatureSpan">later.dy.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.dy.val(d) === (val || later.dy.extent(d)[1]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dy.next" id="apidoc.element.later.dy.next">
        function <span class="apidocSignatureSpan">later.dy.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; later.dy.extent(d)[1] ? 1 : val;
  var year = later.date.nextRollover(d, val, later.dy, later.Y), dyMax = later.dy.extent(year)[1];
  val = val &#x3e; dyMax ? 1 : val || dyMax;
  return later.date.next(later.Y.val(year), later.M.val(year), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dy.prev" id="apidoc.element.later.dy.prev">
        function <span class="apidocSignatureSpan">later.dy.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  var year = later.date.prevRollover(d, val, later.dy, later.Y), dyMax = later.dy.extent(year)[1];
  val = val &#x3e; dyMax ? dyMax : val || dyMax;
  return later.date.prev(later.Y.val(year), later.M.val(year), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dy.start" id="apidoc.element.later.dy.start">
        function <span class="apidocSignatureSpan">later.dy.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return later.D.start(d);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.dy.val" id="apidoc.element.later.dy.val">
        function <span class="apidocSignatureSpan">later.dy.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.dy || (d.dy = Math.ceil(1 + (later.D.start(d).getTime() - later.Y.start(d).getTime()) / later.DAY));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.fd" id="apidoc.module.later.fd">module later.fd</a></h1>


    <h2>
        <a href="#apidoc.element.later.fd.end" id="apidoc.element.later.fd.end">
        function <span class="apidocSignatureSpan">later.fd.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.fd.extent" id="apidoc.element.later.fd.extent">
        function <span class="apidocSignatureSpan">later.fd.</span>extent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function () {
  return [ 0, 3250368e7 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.fd.isValid" id="apidoc.element.later.fd.isValid">
        function <span class="apidocSignatureSpan">later.fd.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.fd.val(d) === val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.fd.next" id="apidoc.element.later.fd.next">
        function <span class="apidocSignatureSpan">later.fd.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  return later.fd.val(d) &#x3c; val ? new Date(val) : later.NEVER;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.fd.prev" id="apidoc.element.later.fd.prev">
        function <span class="apidocSignatureSpan">later.fd.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  return later.fd.val(d) &#x3e; val ? new Date(val) : later.NEVER;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.fd.start" id="apidoc.element.later.fd.start">
        function <span class="apidocSignatureSpan">later.fd.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.fd.val" id="apidoc.element.later.fd.val">
        function <span class="apidocSignatureSpan">later.fd.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.fd || (d.fd = d.getTime());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.h" id="apidoc.module.later.h">module later.h</a></h1>


    <h2>
        <a href="#apidoc.element.later.h.end" id="apidoc.element.later.h.end">
        function <span class="apidocSignatureSpan">later.h.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.hEnd || (d.hEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d), later.h.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.h.extent" id="apidoc.element.later.h.extent">
        function <span class="apidocSignatureSpan">later.h.</span>extent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function () {
  return [ 0, 23 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.h.isValid" id="apidoc.element.later.h.isValid">
        function <span class="apidocSignatureSpan">later.h.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.h.val(d) === val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.h.next" id="apidoc.element.later.h.next">
        function <span class="apidocSignatureSpan">later.h.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; 23 ? 0 : val;
  var next = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val &#x3c;= later.h.val(d) ? 1 : 0), val);
  if (!later.date.isUTC &#x26;&#x26; next.getTime() &#x3c;= d.getTime()) {
    next = later.date.next(later.Y.val(next), later.M.val(next), later.D.val(next), val + 1);
  }
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.h.prev" id="apidoc.element.later.h.prev">
        function <span class="apidocSignatureSpan">later.h.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  val = val &#x3e; 23 ? 23 : val;
  return later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d) + (val &#x3e;= later.h.val(d) ? -1 : 0), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.h.start" id="apidoc.element.later.h.start">
        function <span class="apidocSignatureSpan">later.h.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.hStart || (d.hStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d), later.h.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.h.val" id="apidoc.element.later.h.val">
        function <span class="apidocSignatureSpan">later.h.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.h || (d.h = later.date.getHour.call(d));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.index_browserify" id="apidoc.module.later.index_browserify">module later.index_browserify</a></h1>


    <h2>
        <a href="#apidoc.element.later.index_browserify.compile" id="apidoc.element.later.index_browserify.compile">
        function <span class="apidocSignatureSpan">later.index_browserify.</span>compile
        <span class="apidocSignatureSpan">(schedDef)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">compile = function (schedDef) {

  var constraints = [],
      constraintsLen = 0,
      tickConstraint;

  for(var key in schedDef) {
    var nameParts = key.split(&#x27;_&#x27;),
        name = nameParts[0],
        mod = nameParts[1],
        vals = schedDef[key],
        constraint = mod ? later.modifier[mod](later[name], vals) : later[name];

    constraints.push({constraint: constraint, vals: vals});
    constraintsLen++;
  }

  // sort constraints based on their range for best performance (we want to
  // always skip the largest block of time possible to find the next valid
  // value)
  constraints.sort(function(a,b) {
    var ra = a.constraint.range, rb = b.constraint.range;
    return (rb &#x3c; ra) ? -1 : (rb &#x3e; ra) ? 1 : 0;
  });

  // this is the smallest constraint, we use this one to tick the schedule when
  // finding multiple instances
  tickConstraint = constraints[constraintsLen-1].constraint;

<span class="apidocCodeCommentSpan">  /**
  * Returns a function to use when comparing two dates. Encapsulates the
  * difference between searching for instances forward and backwards so that
  * the same code can be completely reused for both directions.
  *
  * @param {String} dir: The direction to use, either &#x27;next&#x27; or &#x27;prev&#x27;
  */
</span>  function compareFn(dir) {
    return dir === &#x27;next&#x27; ?
      function(a,b) { return a.getTime() &#x3e; b.getTime(); } :
      function(a,b) { return b.getTime() &#x3e; a.getTime(); };
  }

  return {

    /**
    * Calculates the start of the next valid occurrence of a particular schedule
    * that occurs on or after the specified start time.
    *
    * @param {String} dir: Direction to search in (&#x27;next&#x27; or &#x27;prev&#x27;)
    * @param {Date} startDate: The first possible valid occurrence
    */
    start: function(dir, startDate) {
      var next = startDate,
          nextVal = later.array[dir],
          maxAttempts = 1000,
          done;

      while(maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
        done = true;

        // verify all of the constraints in order since we want to make the
        // largest jumps possible to find the first valid value
        for(var i = 0; i &#x3c; constraintsLen; i++) {

          var constraint = constraints[i].constraint,
              curVal = constraint.val(next),
              extent = constraint.extent(next),
              newVal = nextVal(curVal, constraints[i].vals, extent);

          if(!constraint.isValid(next, newVal)) {
            next = constraint[dir](next, newVal);
            done = false;
            break; // need to retest all constraints with new date
          }
        }
      }

      if(next !== later.NEVER) {
        next = dir === &#x27;next&#x27; ? tickConstraint.start(next) :
          tickConstraint.end(next);
      }

      // if next, move to start of time period. needed when moving backwards
      return next;
    },

    /**
    * Given a valid start time, finds the next schedule that is invalid.
    * Useful for finding the end of a valid time range.
    *
    * @param {Date} startDate: The first possible valid occurrence
    */
    end: function(dir, startDate) {

      var result,
          nextVal = later.array[dir + &#x27;Invalid&#x27;],
          compare = compareFn(dir);

      for(var i = constraintsLen-1; i &#x3e;= 0; i--) {
        var constraint = constraints[i].constraint,
            curVal = constraint.val(startDate),
            extent = constraint.extent(startDate),
            newVal = nextVal(curVal, constraints[i].vals, extent),
            next;

        if(newVal !== undefined) { // constraint has invalid value, use that
          next = constraint[dir](startDate, newVal);
          if(next &#x26;&#x26; (!result || compare(result, next))) {
            result = next;
          }
        }
      }

      return result;
    },

    /**
    * Ticks the date by the minimum constraint in this schedule
    *
    * @param {String} dir: Direction to tick in (&#x27;next&#x27; or &#x27;prev&#x27;)
    * @param {Date} date: The start date to tick from
    */
    tick: function(dir, date) {
      return new Date(dir === &#x27;next&#x27; ?
        tickConstraint.end(date).getTime() + later.SEC :
        tickConstraint.start(date).getTime() - later.SEC); ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  };
};
later.schedule = function(sched) {
  if (!sched) throw new Error(&#x22;Missing schedule definition.&#x22;);
  if (!sched.schedules) throw new Error(&#x22;Definition must include at least one schedule.&#x22;);
  var schedules = [], schedulesLen = sched.schedules.length, exceptions = [], exceptionsLen = sched.exceptions ? sched.exceptions
.length : 0;
  for (var i = 0; i &#x3c; schedulesLen; i++) {
    schedules.push(later.<span class="apidocCodeKeywordSpan">compile</span>(sched.schedules[i]));
  }
  for (var j = 0; j &#x3c; exceptionsLen; j++) {
    exceptions.push(later.compile(sched.exceptions[j]));
  }
  function getInstances(dir, count, startDate, endDate, isRange) {
    var compare = compareFn(dir), loopCount = count, maxAttempts = 1e3, schedStarts = [], exceptStarts = [], next, end, results = [],
isForward = dir === &#x22;next&#x22;, lastResult, rStart = isForward ? 0 : 1, rEnd = isForward ? 1 : 0;
    startDate = startDate ? new Date(startDate) : new Date();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.index_browserify.schedule" id="apidoc.element.later.index_browserify.schedule">
        function <span class="apidocSignatureSpan">later.index_browserify.</span>schedule
        <span class="apidocSignatureSpan">(sched)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">schedule = function (sched) {
  if(!sched) throw new Error(&#x27;Missing schedule definition.&#x27;);
  if(!sched.schedules) throw new Error(&#x27;Definition must include at least one schedule.&#x27;);

  // compile the schedule components
  var schedules = [],
      schedulesLen = sched.schedules.length,
      exceptions = [],
      exceptionsLen = sched.exceptions ? sched.exceptions.length : 0;

  for(var i = 0; i &#x3c; schedulesLen; i++) {
    schedules.push(later.compile(sched.schedules[i]));
  }

  for(var j = 0; j &#x3c; exceptionsLen; j++) {
    exceptions.push(later.compile(sched.exceptions[j]));
  }

<span class="apidocCodeCommentSpan">  /**
  * Calculates count number of instances or ranges for the current schedule,
  * optionally between the specified startDate and endDate.
  *
  * @param {String} dir: The direction to use, either &#x27;next&#x27; or &#x27;prev&#x27;
  * @param {Integer} count: The number of instances or ranges to return
  * @param {Date} startDate: The earliest date a valid instance can occur on
  * @param {Date} endDate: The latest date a valid instance can occur on
  * @param {Bool} isRange: True to return ranges, false to return instances
  */
</span>  function getInstances(dir, count, startDate, endDate, isRange) {
    var compare = compareFn(dir), // encapsulates difference between directions
        loopCount = count,
        maxAttempts = 1000,
        schedStarts = [], exceptStarts = [],
        next, end, results = [],
        isForward = dir === &#x27;next&#x27;,
        lastResult,
        rStart = isForward ? 0 : 1,
        rEnd = isForward ? 1 : 0;

    startDate = startDate ? new Date(startDate) : new Date();
    if(!startDate || !startDate.getTime()) throw new Error(&#x27;Invalid start date.&#x27;);

    // Step 1: calculate the earliest start dates for each schedule and exception
    setNextStarts(dir, schedules, schedStarts, startDate);
    setRangeStarts(dir, exceptions, exceptStarts, startDate);

    // Step 2: select the earliest of the start dates calculated
    while(maxAttempts-- &#x26;&#x26; loopCount &#x26;&#x26; (next = findNext(schedStarts, compare))) {

      // Step 3: make sure the start date we found is in range
      if(endDate &#x26;&#x26; compare(next, endDate)) {
        break;
      }

      // Step 4: make sure we aren&#x27;t in the middle of an exception range
      if(exceptionsLen) {
        updateRangeStarts(dir, exceptions, exceptStarts, next);
        if((end = calcRangeOverlap(dir, exceptStarts, next))) {
          updateNextStarts(dir, schedules, schedStarts, end);
          continue;
        }
      }

      // Step 5: Date is good, if range, find the end of the range and update start dates
      if(isRange) {
        var maxEndDate = calcMaxEndDate(exceptStarts, compare);
        end = calcEnd(dir, schedules, schedStarts, next, maxEndDate);
        var r = isForward ?
          [
            new Date(Math.max(startDate, next)),
            end ? new Date(endDate ? Math.min(end, endDate) : end) : undefined
          ] :
          [
            end ? (new Date(endDate ? Math.max(endDate, end.getTime()+later.SEC) : end.getTime()+later.SEC)) : undefined,
            new Date(Math.min(startDate, next.getTime()+later.SEC))
          ];

        // make sure start of this range doesn&#x27;t overlap with the end of the
        // previous range
        if(lastResult &#x26;&#x26; r[rStart].getTime() === lastResult[rEnd].getTime()) {
          lastResult[rEnd] = r[rEnd];
          loopCount++; // correct the count since this isn&#x27;t a new range
        }
        else {
          lastResult = r;
          results.push(lastResult);
        }

        if(!end) break; // last iteration valid until the end of time
        updateNextStarts(dir, schedules, schedStarts, end);
      }
      // otherwise store the start date and tick the start dates
      else {
        results.push( isForward ?
          new Date(Math.max(startDate, next)) :
          getStart(schedules, schedStarts, next, endDate)
        );

        tickStarts(dir, schedules, schedStarts, next);
      }

      loopCount--;
    }

    // clean the dates that will be returned to remove any cached properties
    // that were added during the schedule process
    for (var ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    },
    prevRange: function(count, startDate, endDate) {
      return getInstances(&#x22;prev&#x22;, count || 1, startDate, endDate, true);
    }
  };
};
later.setTimeout = function(fn, sched) {
  var s = later.<span class="apidocCodeKeywordSpan">schedule</span>(sched), t;
  if (fn) {
    scheduleTimeout();
  }
  function scheduleTimeout() {
    var now = Date.now(), next = s.next(2, now);
    if (!next[0]) {
      t = undefined;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.index_browserify.setInterval" id="apidoc.element.later.index_browserify.setInterval">
        function <span class="apidocSignatureSpan">later.index_browserify.</span>setInterval
        <span class="apidocSignatureSpan">(fn, sched)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setInterval = function (fn, sched) {
  if (!fn) {
    return;
  }

  var t = later.setTimeout(scheduleTimeout, sched),
      done = t.isDone();

<span class="apidocCodeCommentSpan">  /**
  * Executes the specified function and then sets the timeout for the next
  * interval.
  */
</span>  function scheduleTimeout() {
    if(!done) {
      fn();
      t = later.setTimeout(scheduleTimeout, sched);
    }
  }

  return {

    isDone: function() {
      return t.isDone();
    },

    /**
    * Clears the timeout.
    */
    clear: function() {
      done = true;
      t.clear();
    }

  };

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

describe(&#x27;Set interval&#x27;, function() {

  it(&#x27;should execute a callback after the specified amount of time&#x27;, function(done) {
this.timeout(0);

var s = later.parse.recur().every(1).second(),
    t = later.<span class="apidocCodeKeywordSpan">setInterval</span>(test, s),
    count = 0;

function test() {
  later.schedule(s).isValid(new Date()).should.eql(true);
  count++;
  if(count &#x3e; 2) {
    t.clear();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.index_browserify.setTimeout" id="apidoc.element.later.index_browserify.setTimeout">
        function <span class="apidocSignatureSpan">later.index_browserify.</span>setTimeout
        <span class="apidocSignatureSpan">(fn, sched)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setTimeout = function (fn, sched) {

  var s = later.schedule(sched), t;
  if (fn) {
    scheduleTimeout();
  }

<span class="apidocCodeCommentSpan">  /**
  * Schedules the timeout to occur. If the next occurrence is greater than the
  * max supported delay (2147483647 ms) than we delay for that amount before
  * attempting to schedule the timeout again.
  */
</span>  function scheduleTimeout() {
    var now = Date.now(),
        next = s.next(2, now);

    if (!next[0]) {
      t = undefined;
      return;
    }

    var diff = next[0].getTime() - now;

    // minimum time to fire is one second, use next occurrence instead
    if(diff &#x3c; 1000) {
      diff = next[1] ? next[1].getTime() - now : 1000;
    }

    if(diff &#x3c; 2147483647) {
      t = setTimeout(fn, diff);
    }
    else {
      t = setTimeout(scheduleTimeout, 2147483647);
    }
  }

  return {

    isDone: function() {
      return !t;
    },

    /**
    * Clears the timeout.
    */
    clear: function() {
      clearTimeout(t);
    }

  };

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
  };
};
later.setInterval = function(fn, sched) {
  if (!fn) {
    return;
  }
  var t = later.<span class="apidocCodeKeywordSpan">setTimeout</span>(scheduleTimeout, sched), done = t.isDone();
  function scheduleTimeout() {
    if (!done) {
      fn();
      t = later.setTimeout(scheduleTimeout, sched);
    }
  }
  return {
...</pre></li>
    </ul>
















































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.m" id="apidoc.module.later.m">module later.m</a></h1>


    <h2>
        <a href="#apidoc.element.later.m.end" id="apidoc.element.later.m.end">
        function <span class="apidocSignatureSpan">later.m.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.mEnd || (d.mEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d), later.h.val(d), later.m.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.m.extent" id="apidoc.element.later.m.extent">
        function <span class="apidocSignatureSpan">later.m.</span>extent
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function (d) {
  return [ 0, 59 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.m.isValid" id="apidoc.element.later.m.isValid">
        function <span class="apidocSignatureSpan">later.m.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.m.val(d) === val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.m.next" id="apidoc.element.later.m.next">
        function <span class="apidocSignatureSpan">later.m.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  var m = later.m.val(d), s = later.s.val(d), inc = val &#x3e; 59 ? 60 - m : val &#x3c;= m ? 60 - m + val : val - m, next = new Date(d.getTime
() + inc * later.MIN - s * later.SEC);
  if (!later.date.isUTC &#x26;&#x26; next.getTime() &#x3c;= d.getTime()) {
    next = new Date(d.getTime() + (inc + 120) * later.MIN - s * later.SEC);
  }
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.m.prev" id="apidoc.element.later.m.prev">
        function <span class="apidocSignatureSpan">later.m.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  val = val &#x3e; 59 ? 59 : val;
  return later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d), later.h.val(d) + (val &#x3e;= later.m.val(d) ? -1 : 0), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.m.start" id="apidoc.element.later.m.start">
        function <span class="apidocSignatureSpan">later.m.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.mStart || (d.mStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d), later.h.val(d), later.m.val(d)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.m.val" id="apidoc.element.later.m.val">
        function <span class="apidocSignatureSpan">later.m.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.m || (d.m = later.date.getMin.call(d));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.modifier" id="apidoc.module.later.modifier">module later.modifier</a></h1>


    <h2>
        <a href="#apidoc.element.later.modifier.a" id="apidoc.element.later.modifier.a">
        function <span class="apidocSignatureSpan">later.modifier.</span>a
        <span class="apidocSignatureSpan">(constraint, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">a = function (constraint, values) {
  var value = values[0];
  return {
    name: &#x22;after &#x22; + constraint.name,
    range: (constraint.extent(new Date())[1] - value) * constraint.range,
    val: constraint.val,
    isValid: function(d, val) {
      return this.val(d) &#x3e;= value;
    },
    extent: constraint.extent,
    start: constraint.start,
    end: constraint.end,
    next: function(startDate, val) {
      if (val != value) val = constraint.extent(startDate)[0];
      return constraint.next(startDate, val);
    },
    prev: function(startDate, val) {
      val = val === value ? constraint.extent(startDate)[1] : value - 1;
      return constraint.prev(startDate, val);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.modifier.after" id="apidoc.element.later.modifier.after">
        function <span class="apidocSignatureSpan">later.modifier.</span>after
        <span class="apidocSignatureSpan">(constraint, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">after = function (constraint, values) {
  var value = values[0];
  return {
    name: &#x22;after &#x22; + constraint.name,
    range: (constraint.extent(new Date())[1] - value) * constraint.range,
    val: constraint.val,
    isValid: function(d, val) {
      return this.val(d) &#x3e;= value;
    },
    extent: constraint.extent,
    start: constraint.start,
    end: constraint.end,
    next: function(startDate, val) {
      if (val != value) val = constraint.extent(startDate)[0];
      return constraint.next(startDate, val);
    },
    prev: function(startDate, val) {
      val = val === value ? constraint.extent(startDate)[1] : value - 1;
      return constraint.prev(startDate, val);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        switch (token.type) {
case TOKENTYPES.every:
 parseEvery(r);
 break;

case TOKENTYPES.after:
 if (peek(TOKENTYPES.time).type !== undefined) {
   r.<span class="apidocCodeKeywordSpan">after</span>(parseTokenValue(TOKENTYPES.time));
   r.time();
 } else {
   r.after(parseTokenValue(TOKENTYPES.rank));
   parseTimePeriod(r);
 }
 break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.modifier.b" id="apidoc.element.later.modifier.b">
        function <span class="apidocSignatureSpan">later.modifier.</span>b
        <span class="apidocSignatureSpan">(constraint, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">b = function (constraint, values) {
  var value = values[values.length - 1];
  return {
    name: &#x22;before &#x22; + constraint.name,
    range: constraint.range * (value - 1),
    val: constraint.val,
    isValid: function(d, val) {
      return this.val(d) &#x3c; value;
    },
    extent: constraint.extent,
    start: constraint.start,
    end: constraint.end,
    next: function(startDate, val) {
      val = val === value ? constraint.extent(startDate)[0] : value;
      return constraint.next(startDate, val);
    },
    prev: function(startDate, val) {
      val = val === value ? value - 1 : constraint.extent(startDate)[1];
      return constraint.prev(startDate, val);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.modifier.before" id="apidoc.element.later.modifier.before">
        function <span class="apidocSignatureSpan">later.modifier.</span>before
        <span class="apidocSignatureSpan">(constraint, values)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">before = function (constraint, values) {
  var value = values[values.length - 1];
  return {
    name: &#x22;before &#x22; + constraint.name,
    range: constraint.range * (value - 1),
    val: constraint.val,
    isValid: function(d, val) {
      return this.val(d) &#x3c; value;
    },
    extent: constraint.extent,
    start: constraint.start,
    end: constraint.end,
    next: function(startDate, val) {
      val = val === value ? constraint.extent(startDate)[0] : value;
      return constraint.next(startDate, val);
    },
    prev: function(startDate, val) {
      val = val === value ? value - 1 : constraint.extent(startDate)[1];
      return constraint.prev(startDate, val);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   r.after(parseTokenValue(TOKENTYPES.rank));
   parseTimePeriod(r);
 }
 break;

case TOKENTYPES.before:
 if (peek(TOKENTYPES.time).type !== undefined) {
   r.<span class="apidocCodeKeywordSpan">before</span>(parseTokenValue(TOKENTYPES.time));
   r.time();
 } else {
   r.before(parseTokenValue(TOKENTYPES.rank));
   parseTimePeriod(r);
 }
 break;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.parse" id="apidoc.module.later.parse">module later.parse</a></h1>


    <h2>
        <a href="#apidoc.element.later.parse.cron" id="apidoc.element.later.parse.cron">
        function <span class="apidocSignatureSpan">later.parse.</span>cron
        <span class="apidocSignatureSpan">(expr, hasSeconds)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cron = function (expr, hasSeconds) {
  var NAMES = {
    JAN: 1,
    FEB: 2,
    MAR: 3,
    APR: 4,
    MAY: 5,
    JUN: 6,
    JUL: 7,
    AUG: 8,
    SEP: 9,
    OCT: 10,
    NOV: 11,
    DEC: 12,
    SUN: 1,
    MON: 2,
    TUE: 3,
    WED: 4,
    THU: 5,
    FRI: 6,
    SAT: 7
  };
  var REPLACEMENTS = {
    &#x22;* * * * * *&#x22;: &#x22;0/1 * * * * *&#x22;,
    &#x22;@YEARLY&#x22;: &#x22;0 0 1 1 *&#x22;,
    &#x22;@ANNUALLY&#x22;: &#x22;0 0 1 1 *&#x22;,
    &#x22;@MONTHLY&#x22;: &#x22;0 0 1 * *&#x22;,
    &#x22;@WEEKLY&#x22;: &#x22;0 0 * * 0&#x22;,
    &#x22;@DAILY&#x22;: &#x22;0 0 * * *&#x22;,
    &#x22;@HOURLY&#x22;: &#x22;0 * * * *&#x22;
  };
  var FIELDS = {
    s: [ 0, 0, 59 ],
    m: [ 1, 0, 59 ],
    h: [ 2, 0, 23 ],
    D: [ 3, 1, 31 ],
    M: [ 4, 1, 12 ],
    Y: [ 6, 1970, 2099 ],
    d: [ 5, 1, 7, 1 ]
  };
  function getValue(value, offset, max) {
    return isNaN(value) ? NAMES[value] || null : Math.min(+value + (offset || 0), max || 9999);
  }
  function cloneSchedule(sched) {
    var clone = {}, field;
    for (field in sched) {
      if (field !== &#x22;dc&#x22; &#x26;&#x26; field !== &#x22;d&#x22;) {
        clone[field] = sched[field].slice(0);
      }
    }
    return clone;
  }
  function add(sched, name, min, max, inc) {
    var i = min;
    if (!sched[name]) {
      sched[name] = [];
    }
    while (i &#x3c;= max) {
      if (sched[name].indexOf(i) &#x3c; 0) {
        sched[name].push(i);
      }
      i += inc || 1;
    }
    sched[name].sort(function(a, b) {
      return a - b;
    });
  }
  function addHash(schedules, curSched, value, hash) {
    if (curSched.d &#x26;&#x26; !curSched.dc || curSched.dc &#x26;&#x26; curSched.dc.indexOf(hash) &#x3c; 0) {
      schedules.push(cloneSchedule(curSched));
      curSched = schedules[schedules.length - 1];
    }
    add(curSched, &#x22;d&#x22;, value, value);
    add(curSched, &#x22;dc&#x22;, hash, hash);
  }
  function addWeekday(s, curSched, value) {
    var except1 = {}, except2 = {};
    if (value === 1) {
      add(curSched, &#x22;D&#x22;, 1, 3);
      add(curSched, &#x22;d&#x22;, NAMES.MON, NAMES.FRI);
      add(except1, &#x22;D&#x22;, 2, 2);
      add(except1, &#x22;d&#x22;, NAMES.TUE, NAMES.FRI);
      add(except2, &#x22;D&#x22;, 3, 3);
      add(except2, &#x22;d&#x22;, NAMES.TUE, NAMES.FRI);
    } else {
      add(curSched, &#x22;D&#x22;, value - 1, value + 1);
      add(curSched, &#x22;d&#x22;, NAMES.MON, NAMES.FRI);
      add(except1, &#x22;D&#x22;, value - 1, value - 1);
      add(except1, &#x22;d&#x22;, NAMES.MON, NAMES.THU);
      add(except2, &#x22;D&#x22;, value + 1, value + 1);
      add(except2, &#x22;d&#x22;, NAMES.TUE, NAMES.FRI);
    }
    s.exceptions.push(except1);
    s.exceptions.push(except2);
  }
  function addRange(item, curSched, name, min, max, offset) {
    var incSplit = item.split(&#x22;/&#x22;), inc = +incSplit[1], range = incSplit[0];
    if (range !== &#x22;*&#x22; &#x26;&#x26; range !== &#x22;0&#x22;) {
      var rangeSplit = range.split(&#x22;-&#x22;);
      min = getValue(rangeSplit[0], offset, max);
      max = getValue(rangeSplit[1], offset, max) || max;
    }
    add(curSched, name, min, max, inc);
  }
  function parse(item, s, name, min, max, offset) {
    var value, split, schedules = s.schedules, curSched = schedules[schedules.length - 1];
    if (item === &#x22;L&#x22;) {
      item = min - 1;
    }
    if ((value = getValue(item, offset, max)) !== null) {
      add(curSched, name, value, value);
    } else if ((value = getValue(item.replace(&#x22;W&#x22;, &#x22;&#x22;), offset, max)) !== null) {
      addWeekday(s, curSched, value);
    } else if ((value = getValue(item.replace(&#x22;L&#x22;, &#x22;&#x22;), offset, max)) !== null) {
      addHash(schedules, curSched, value, min - 1);
    } else if ((split = item.split(&#x22;#&#x22;)).length === 2) {
      value = getValue(split[0], offset, max);
      addHash(schedules, curSched, value, getValue(split[1]));
    } else {
      addRange(item, curSched, name, min, max, offset);
    }
  }
  function isHash(item) {
    return item.indexOf(&#x22;#&#x22;) &#x3e; -1 || item.indexOf(&#x22;L&#x22;) &#x3e; 0;
  }
  function itemSorter(a, b) {
    return isHash(a) &#x26;&#x26; !isHash(b) ? 1 : a - b;
  }
  function parseExpr(expr) {
    var schedule = {
      schedules: [ {} ],
      exceptions: []
    }, components = expr.replace(/(\s)+/g, &#x22; &#x22;).split(&#x22; &#x22;), field, f, component, items;
    for (field in FIELDS) {
      f = FIELDS[field];
      component = components[f[0]];
      if (component &#x26;&#x26; component !== &#x22;*&#x22; &#x26;&#x26; component !== &#x22;?&#x22;) {
        items = compo ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- Searching forward or backward now produces the same valid occurrences
* No more need to specify a resolution!
- _Later_ now automatically handles this internally, you no longer need to specify your desired resolution. &#x27;Every 5 minutes
&#x27; now does exactly what you would expect it to :)
* Changing between UTC and local time has changed.
- Use `later.date.UTC()` and `later.date.localTime()` to switch between the two.
* API for parsers has changed.
- Recur is now at `later.parse.recur()`
- Cron is now at `later.parse.<span class="apidocCodeKeywordSpan">cron</span>(expr)`
- Text is now at `later.parse.text(expr)`
* API for calculating occurrences has changed.
- Schedules are now compiled using `later.schedule(schedule)`
- getNext is now `later.schedule(schedule).next(count, start, end)`
- getPrev is now `later.schedule(schedule).prev(count, start, end)`
* `After` meaning &#x27;don&#x27;t start until after this amount of time&#x27; has been deprecated.
- This was a hack since people had a hard time with resolutions. With resolutions gone, this is no longer needed and is deprecated
 since it produced non-deterministic schedules.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.parse.recur" id="apidoc.element.later.parse.recur">
        function <span class="apidocSignatureSpan">later.parse.</span>recur
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">recur = function () {
  var schedules = [], exceptions = [], cur, curArr = schedules, curName, values, every, modifier, applyMin, applyMax, i, last;
  function add(name, min, max) {
    name = modifier ? name + &#x22;_&#x22; + modifier : name;
    if (!cur) {
      curArr.push({});
      cur = curArr[0];
    }
    if (!cur[name]) {
      cur[name] = [];
    }
    curName = cur[name];
    if (every) {
      values = [];
      for (i = min; i &#x3c;= max; i += every) {
        values.push(i);
      }
      last = {
        n: name,
        x: every,
        c: curName.length,
        m: max
      };
    }
    values = applyMin ? [ min ] : applyMax ? [ max ] : values;
    var length = values.length;
    for (i = 0; i &#x3c; length; i += 1) {
      var val = values[i];
      if (curName.indexOf(val) &#x3c; 0) {
        curName.push(val);
      }
    }
    values = every = modifier = applyMin = applyMax = 0;
  }
  return {
    schedules: schedules,
    exceptions: exceptions,
    on: function() {
      values = arguments[0] instanceof Array ? arguments[0] : arguments;
      return this;
    },
    every: function(x) {
      every = x || 1;
      return this;
    },
    after: function(x) {
      modifier = &#x22;a&#x22;;
      values = [ x ];
      return this;
    },
    before: function(x) {
      modifier = &#x22;b&#x22;;
      values = [ x ];
      return this;
    },
    first: function() {
      applyMin = 1;
      return this;
    },
    last: function() {
      applyMax = 1;
      return this;
    },
    time: function() {
      for (var i = 0, len = values.length; i &#x3c; len; i++) {
        var split = values[i].split(&#x22;:&#x22;);
        if (split.length &#x3c; 3) split.push(0);
        values[i] = +split[0] * 3600 + +split[1] * 60 + +split[2];
      }
      add(&#x22;t&#x22;);
      return this;
    },
    second: function() {
      add(&#x22;s&#x22;, 0, 59);
      return this;
    },
    minute: function() {
      add(&#x22;m&#x22;, 0, 59);
      return this;
    },
    hour: function() {
      add(&#x22;h&#x22;, 0, 23);
      return this;
    },
    dayOfMonth: function() {
      add(&#x22;D&#x22;, 1, applyMax ? 0 : 31);
      return this;
    },
    dayOfWeek: function() {
      add(&#x22;d&#x22;, 1, 7);
      return this;
    },
    onWeekend: function() {
      values = [ 1, 7 ];
      return this.dayOfWeek();
    },
    onWeekday: function() {
      values = [ 2, 3, 4, 5, 6 ];
      return this.dayOfWeek();
    },
    dayOfWeekCount: function() {
      add(&#x22;dc&#x22;, 1, applyMax ? 0 : 5);
      return this;
    },
    dayOfYear: function() {
      add(&#x22;dy&#x22;, 1, applyMax ? 0 : 366);
      return this;
    },
    weekOfMonth: function() {
      add(&#x22;wm&#x22;, 1, applyMax ? 0 : 5);
      return this;
    },
    weekOfYear: function() {
      add(&#x22;wy&#x22;, 1, applyMax ? 0 : 53);
      return this;
    },
    month: function() {
      add(&#x22;M&#x22;, 1, 12);
      return this;
    },
    year: function() {
      add(&#x22;Y&#x22;, 1970, 2450);
      return this;
    },
    fullDate: function() {
      for (var i = 0, len = values.length; i &#x3c; len; i++) {
        values[i] = values[i].getTime();
      }
      add(&#x22;fd&#x22;);
      return this;
    },
    customModifier: function(id, vals) {
      var custom = later.modifier[id];
      if (!custom) throw new Error(&#x22;Custom modifier &#x22; + id + &#x22; not recognized!&#x22;);
      modifier = id;
      values = arguments[1] instanceof Array ? arguments[1] : [ arguments[1] ];
      return this;
    },
    customPeriod: function(id) {
      var custom = later[id];
      if (!custom) throw new Error(&#x22;Custom time period &#x22; + id + &#x22; not recognized!&#x22;);
      add(id, custom.extent(new Date())[0], custom.extent(new Date())[1]);
      return this;
    },
    startingOn: function(start) {
      return this.between(start, last.m);
    },
    between: function(start, end) {
      cur[last.n] = cur[last.n].splice(0, last.c);
      every = last.x;
      add(last.n, start, end);
      return this;
    },
    and: function() {
      cur = curArr[curArr.push({}) - 1];
      return this;
    },
    except: function() {
      curArr = exceptions;
      cur = null;
      return this;
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### Later v1.1.1 and v1.1.2

* Fixed handling of ranged schedules which never go invalid. End date is undefined for these types of schedules.

### Later v1.1.0

* Implemented fullDate (fd) constraint to specify a specific occurrence (or exception)
- `later.parse.<span class="apidocCodeKeywordSpan">recur</span>().on(new Date(2013,3,21,10,30,0)).fullDate()`

### Later v1.0.0

* Refactored core engine so that it could be better tested
- Added over 41,500 tests and fixed hundreds of edge cases that were unfortunately broken in v0.0.20
* Core engine is now extensible via custom time periods and custom modifiers
- Full examples included in the documentation
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.parse.text" id="apidoc.element.later.parse.text">
        function <span class="apidocSignatureSpan">later.parse.</span>text
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">text = function (str) {
  var recur = later.parse.recur, pos = 0, input = &#x22;&#x22;, error;
  var TOKENTYPES = {
    eof: /^$/,
    rank: /^((\d\d\d\d)|([2-5]?1(st)?|[2-5]?2(nd)?|[2-5]?3(rd)?|(0|[1-5]?[4-9]|[1-5]0|1[1-3])(th)?))\b/,
    time: /^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,
    dayName: /^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,
    monthName: /^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,
    yearIndex: /^(\d\d\d\d)\b/,
    every: /^every\b/,
    after: /^after\b/,
    before: /^before\b/,
    second: /^(s|sec(ond)?(s)?)\b/,
    minute: /^(m|min(ute)?(s)?)\b/,
    hour: /^(h|hour(s)?)\b/,
    day: /^(day(s)?( of the month)?)\b/,
    dayInstance: /^day instance\b/,
    dayOfWeek: /^day(s)? of the week\b/,
    dayOfYear: /^day(s)? of the year\b/,
    weekOfYear: /^week(s)?( of the year)?\b/,
    weekOfMonth: /^week(s)? of the month\b/,
    weekday: /^weekday\b/,
    weekend: /^weekend\b/,
    month: /^month(s)?\b/,
    year: /^year(s)?\b/,
    between: /^between (the)?\b/,
    start: /^(start(ing)? (at|on( the)?)?)\b/,
    at: /^(at|@)\b/,
    and: /^(,|and\b)/,
    except: /^(except\b)/,
    also: /(also)\b/,
    first: /^(first)\b/,
    last: /^last\b/,
    &#x22;in&#x22;: /^in\b/,
    of: /^of\b/,
    onthe: /^on the\b/,
    on: /^on\b/,
    through: /(-|^(to|through)\b)/
  };
  var NAMES = {
    jan: 1,
    feb: 2,
    mar: 3,
    apr: 4,
    may: 5,
    jun: 6,
    jul: 7,
    aug: 8,
    sep: 9,
    oct: 10,
    nov: 11,
    dec: 12,
    sun: 1,
    mon: 2,
    tue: 3,
    wed: 4,
    thu: 5,
    fri: 6,
    sat: 7,
    &#x22;1st&#x22;: 1,
    fir: 1,
    &#x22;2nd&#x22;: 2,
    sec: 2,
    &#x22;3rd&#x22;: 3,
    thi: 3,
    &#x22;4th&#x22;: 4,
    &#x22;for&#x22;: 4
  };
  function t(start, end, text, type) {
    return {
      startPos: start,
      endPos: end,
      text: text,
      type: type
    };
  }
  function peek(expected) {
    var scanTokens = expected instanceof Array ? expected : [ expected ], whiteSpace = /\s+/, token, curInput, m, scanToken, start
, len;
    scanTokens.push(whiteSpace);
    start = pos;
    while (!token || token.type === whiteSpace) {
      len = -1;
      curInput = input.substring(start);
      token = t(start, start, input.split(whiteSpace)[0]);
      var i, length = scanTokens.length;
      for (i = 0; i &#x3c; length; i++) {
        scanToken = scanTokens[i];
        m = scanToken.exec(curInput);
        if (m &#x26;&#x26; m.index === 0 &#x26;&#x26; m[0].length &#x3e; len) {
          len = m[0].length;
          token = t(start, start + len, curInput.substring(0, len), scanToken);
        }
      }
      if (token.type === whiteSpace) {
        start = token.endPos;
      }
    }
    return token;
  }
  function scan(expectedToken) {
    var token = peek(expectedToken);
    pos = token.endPos;
    return token;
  }
  function parseThroughExpr(tokenType) {
    var start = +parseTokenValue(tokenType), end = checkAndParse(TOKENTYPES.through) ? +parseTokenValue(tokenType) : start, nums
 = [];
    for (var i = start; i &#x3c;= end; i++) {
      nums.push(i);
    }
    return nums;
  }
  function parseRanges(tokenType) {
    var nums = parseThroughExpr(tokenType);
    while (checkAndParse(TOKENTYPES.and)) {
      nums = nums.concat(parseThroughExpr(tokenType));
    }
    return nums;
  }
  function parseEvery(r) {
    var num, period, start, end;
    if (checkAndParse(TOKENTYPES.weekend)) {
      r.on(NAMES.sun, NAMES.sat).dayOfWeek();
    } else if (checkAndParse(TOKENTYPES.weekday)) {
      r.on(NAMES.mon, NAMES.tue, NAMES.wed, NAMES.thu, NAMES.fri).dayOfWeek();
    } else {
      num = parseTokenValue(TOKENTYPES.rank);
      r.every(num);
      period = parseTimePeriod(r);
      if (checkAndParse(TOKENTYPES.start)) {
        num = parseTokenValue(TOKENTYPES.rank);
        r.startingOn(num);
        parseToken(period.type);
      } else if (checkAndParse(TOKENTYPES.between)) {
        start = parseTokenValue(TOKENTYPES.rank);
        if (checkAndParse(TOKENTYPES.and)) {
          end = parseTokenValue(TOKENTYPES.rank);
          r.between(start, end); ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* No more need to specify a resolution!
- _Later_ now automatically handles this internally, you no longer need to specify your desired resolution. &#x27;Every 5 minutes
&#x27; now does exactly what you would expect it to :)
* Changing between UTC and local time has changed.
- Use `later.date.UTC()` and `later.date.localTime()` to switch between the two.
* API for parsers has changed.
- Recur is now at `later.parse.recur()`
- Cron is now at `later.parse.cron(expr)`
- Text is now at `later.parse.<span class="apidocCodeKeywordSpan">text</span>(expr)`
* API for calculating occurrences has changed.
- Schedules are now compiled using `later.schedule(schedule)`
- getNext is now `later.schedule(schedule).next(count, start, end)`
- getPrev is now `later.schedule(schedule).prev(count, start, end)`
* `After` meaning &#x27;don&#x27;t start until after this amount of time&#x27; has been deprecated.
- This was a hack since people had a hard time with resolutions. With resolutions gone, this is no longer needed and is deprecated
 since it produced non-deterministic schedules.
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.s" id="apidoc.module.later.s">module later.s</a></h1>


    <h2>
        <a href="#apidoc.element.later.s.end" id="apidoc.element.later.s.end">
        function <span class="apidocSignatureSpan">later.s.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.s.extent" id="apidoc.element.later.s.extent">
        function <span class="apidocSignatureSpan">later.s.</span>extent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function () {
  return [ 0, 59 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.s.isValid" id="apidoc.element.later.s.isValid">
        function <span class="apidocSignatureSpan">later.s.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.s.val(d) === val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.s.next" id="apidoc.element.later.s.next">
        function <span class="apidocSignatureSpan">later.s.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  var s = later.s.val(d), inc = val &#x3e; 59 ? 60 - s : val &#x3c;= s ? 60 - s + val : val - s, next = new Date(d.getTime() + inc * later
.SEC);
  if (!later.date.isUTC &#x26;&#x26; next.getTime() &#x3c;= d.getTime()) {
    next = new Date(d.getTime() + (inc + 7200) * later.SEC);
  }
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.s.prev" id="apidoc.element.later.s.prev">
        function <span class="apidocSignatureSpan">later.s.</span>prev
        <span class="apidocSignatureSpan">(d, val, cache)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val, cache) {
  val = val &#x3e; 59 ? 59 : val;
  return later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d), later.h.val(d), later.m.val(d) + (val &#x3e;= later.s.val(d) ? -
1 : 0), val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.s.start" id="apidoc.element.later.s.start">
        function <span class="apidocSignatureSpan">later.s.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.s.val" id="apidoc.element.later.s.val">
        function <span class="apidocSignatureSpan">later.s.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.s || (d.s = later.date.getSec.call(d));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.t" id="apidoc.module.later.t">module later.t</a></h1>


    <h2>
        <a href="#apidoc.element.later.t.end" id="apidoc.element.later.t.end">
        function <span class="apidocSignatureSpan">later.t.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.t.extent" id="apidoc.element.later.t.extent">
        function <span class="apidocSignatureSpan">later.t.</span>extent
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function () {
  return [ 0, 86399 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.t.isValid" id="apidoc.element.later.t.isValid">
        function <span class="apidocSignatureSpan">later.t.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.t.val(d) === val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.t.next" id="apidoc.element.later.t.next">
        function <span class="apidocSignatureSpan">later.t.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; 86399 ? 0 : val;
  var next = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val &#x3c;= later.t.val(d) ? 1 : 0), 0, 0, val);
  if (!later.date.isUTC &#x26;&#x26; next.getTime() &#x3c; d.getTime()) {
    next = later.date.next(later.Y.val(next), later.M.val(next), later.D.val(next), later.h.val(next), later.m.val(next), val +
7200);
  }
  return next;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.t.prev" id="apidoc.element.later.t.prev">
        function <span class="apidocSignatureSpan">later.t.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  val = val &#x3e; 86399 ? 86399 : val;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val &#x3e;= later.t.val(d) ? -1 : 0), 0, 0, val);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.t.start" id="apidoc.element.later.t.start">
        function <span class="apidocSignatureSpan">later.t.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.t.val" id="apidoc.element.later.t.val">
        function <span class="apidocSignatureSpan">later.t.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.t || (d.t = later.h.val(d) * 3600 + later.m.val(d) * 60 + later.s.val(d));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.wm" id="apidoc.module.later.wm">module later.wm</a></h1>


    <h2>
        <a href="#apidoc.element.later.wm.end" id="apidoc.element.later.wm.end">
        function <span class="apidocSignatureSpan">later.wm.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.wmEnd || (d.wmEnd = later.date.prev(later.Y.val(d), later.M.val(d), Math.min(later.D.val(d) + (7 - later.dw.val(d)),
later.D.extent(d)[1])));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wm.extent" id="apidoc.element.later.wm.extent">
        function <span class="apidocSignatureSpan">later.wm.</span>extent
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function (d) {
  return d.wmExtent || (d.wmExtent = [ 1, (later.D.extent(d)[1] + (later.dw.val(later.M.start(d)) - 1) + (7 - later.dw.val(later
.M.end(d)))) / 7 ]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wm.isValid" id="apidoc.element.later.wm.isValid">
        function <span class="apidocSignatureSpan">later.wm.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.wm.val(d) === (val || later.wm.extent(d)[1]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wm.next" id="apidoc.element.later.wm.next">
        function <span class="apidocSignatureSpan">later.wm.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; later.wm.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.wm, later.M), wmMax = later.wm.extent(month)[1];
  val = val &#x3e; wmMax ? 1 : val || wmMax;
  return later.date.next(later.Y.val(month), later.M.val(month), Math.max(1, (val - 1) * 7 - (later.dw.val(month) - 2)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wm.prev" id="apidoc.element.later.wm.prev">
        function <span class="apidocSignatureSpan">later.wm.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  var month = later.date.prevRollover(d, val, later.wm, later.M), wmMax = later.wm.extent(month)[1];
  val = val &#x3e; wmMax ? wmMax : val || wmMax;
  return later.wm.end(later.date.next(later.Y.val(month), later.M.val(month), Math.max(1, (val - 1) * 7 - (later.dw.val(month) -
2))));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wm.start" id="apidoc.element.later.wm.start">
        function <span class="apidocSignatureSpan">later.wm.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.wmStart || (d.wmStart = later.date.next(later.Y.val(d), later.M.val(d), Math.max(later.D.val(d) - later.dw.val(d) + 1
, 1)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wm.val" id="apidoc.element.later.wm.val">
        function <span class="apidocSignatureSpan">later.wm.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  return d.wm || (d.wm = (later.D.val(d) + (later.dw.val(later.M.start(d)) - 1) + (7 - later.dw.val(d))) / 7);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.later.wy" id="apidoc.module.later.wy">module later.wy</a></h1>


    <h2>
        <a href="#apidoc.element.later.wy.end" id="apidoc.element.later.wy.end">
        function <span class="apidocSignatureSpan">later.wy.</span>end
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">end = function (d) {
  return d.wyEnd || (d.wyEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d) + (later.dw.val(d) &#x3e; 1 ? 8 - later
.dw.val(d) : 0)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return later.date.next(later.Y.val(month), later.M.val(month), val === 0 ? later.D.extent(month)[1] - 6 : 1 + 7 * (val - 1
));
    }
    return next;
  },
  prev: function(d, val) {
    var month = later.date.prevRollover(d, val, later.dc, later.M), dcMax = later.dc.extent(month)[1];
    val = val &#x3e; dcMax ? dcMax : val || dcMax;
    return later.dc.<span class="apidocCodeKeywordSpan">end</span>(later.date.prev(later.Y.val(month), later.M.val(month), 1 + 7
 * (val - 1)));
  }
};
later.dayOfWeek = later.dw = later.d = {
  name: &#x22;day of week&#x22;,
  range: 86400,
  val: function(d) {
    return d.dw || (d.dw = later.date.getDay.call(d) + 1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wy.extent" id="apidoc.element.later.wy.extent">
        function <span class="apidocSignatureSpan">later.wy.</span>extent
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extent = function (d) {
  if (d.wyExtent) return d.wyExtent;
  var year = later.dw.next(later.wy.start(d), 5), dwFirst = later.dw.val(later.Y.start(year)), dwLast = later.dw.val(later.Y.end
(year));
  return d.wyExtent = [ 1, dwFirst === 5 || dwLast === 5 ? 53 : 52 ];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.val(d) === (val || later.D.<span class="apidocCodeKeywordSpan">extent</span>(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wy.isValid" id="apidoc.element.later.wy.isValid">
        function <span class="apidocSignatureSpan">later.wy.</span>isValid
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isValid = function (d, val) {
  return later.wy.val(d) === (val || later.wy.extent(d)[1]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return {
start: function(dir, startDate) {
  var next = startDate, nextVal = later.array[dir], maxAttempts = 1e3, done;
  while (maxAttempts-- &#x26;&#x26; !done &#x26;&#x26; next) {
    done = true;
    for (var i = 0; i &#x3c; constraintsLen; i++) {
      var constraint = constraints[i].constraint, curVal = constraint.val(next), extent = constraint.extent(next), newVal = nextVal
(curVal, constraints[i].vals, extent);
      if (!constraint.<span class="apidocCodeKeywordSpan">isValid</span>(next, newVal)) {
        next = constraint[dir](next, newVal);
        done = false;
        break;
      }
    }
  }
  if (next !== later.NEVER) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wy.next" id="apidoc.element.later.wy.next">
        function <span class="apidocSignatureSpan">later.wy.</span>next
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function (d, val) {
  val = val &#x3e; later.wy.extent(d)[1] ? 1 : val;
  var wyThur = later.dw.next(later.wy.start(d), 5), year = later.date.nextRollover(wyThur, val, later.wy, later.Y);
  if (later.wy.val(year) !== 1) {
    year = later.dw.next(year, 2);
  }
  var wyMax = later.wy.extent(year)[1], wyStart = later.wy.start(year);
  val = val &#x3e; wyMax ? 1 : val || wyMax;
  return later.date.next(later.Y.val(wyStart), later.M.val(wyStart), later.D.val(wyStart) + 7 * (val - 1));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.<span class="apidocCodeKeywordSpan">next</span>(later.Y.val(d), later.M.val(d), later
.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.prev(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wy.prev" id="apidoc.element.later.wy.prev">
        function <span class="apidocSignatureSpan">later.wy.</span>prev
        <span class="apidocSignatureSpan">(d, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prev = function (d, val) {
  var wyThur = later.dw.next(later.wy.start(d), 5), year = later.date.prevRollover(wyThur, val, later.wy, later.Y);
  if (later.wy.val(year) !== 1) {
    year = later.dw.next(year, 2);
  }
  var wyMax = later.wy.extent(year)[1], wyEnd = later.wy.end(year);
  val = val &#x3e; wyMax ? wyMax : val || wyMax;
  return later.wy.end(later.date.next(later.Y.val(wyEnd), later.M.val(wyEnd), later.D.val(wyEnd) + 7 * (val - 1)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
  return d.DExtent = [ 1, max ];
},
start: function(d) {
  return d.DStart || (d.DStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d)));
},
end: function(d) {
  return d.DEnd || (d.DEnd = later.date.<span class="apidocCodeKeywordSpan">prev</span>(later.Y.val(d), later.M.val(d), later.D.
val(d)));
},
next: function(d, val) {
  val = val &#x3e; later.D.extent(d)[1] ? 1 : val;
  var month = later.date.nextRollover(d, val, later.D, later.M), DMax = later.D.extent(month)[1];
  val = val &#x3e; DMax ? 1 : val || DMax;
  return later.date.next(later.Y.val(month), later.M.val(month), val);
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wy.start" id="apidoc.element.later.wy.start">
        function <span class="apidocSignatureSpan">later.wy.</span>start
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">start = function (d) {
  return d.wyStart || (d.wyStart = later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) - (later.dw.val(d) &#x3e; 1 ? later
.dw.val(d) - 2 : 6)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
isValid: function(d, val) {
  return later.dw.val(d) === (val || 7);
},
extent: function() {
  return [ 1, 7 ];
},
start: function(d) {
  return later.D.<span class="apidocCodeKeywordSpan">start</span>(d);
},
end: function(d) {
  return later.D.end(d);
},
next: function(d, val) {
  val = val &#x3e; 7 ? 1 : val || 7;
  return later.date.next(later.Y.val(d), later.M.val(d), later.D.val(d) + (val - later.dw.val(d)) + (val &#x3c;= later.dw.val(d) ?
7 : 0));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.later.wy.val" id="apidoc.element.later.wy.val">
        function <span class="apidocSignatureSpan">later.wy.</span>val
        <span class="apidocSignatureSpan">(d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">val = function (d) {
  if (d.wy) return d.wy;
  var wThur = later.dw.next(later.wy.start(d), 5), YThur = later.dw.next(later.Y.prev(wThur, later.Y.val(wThur) - 1), 5);
  return d.wy = 1 + Math.ceil((wThur.getTime() - YThur.getTime()) / later.WEEK);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  later.day = later.D = {
name: &#x22;day&#x22;,
range: 86400,
val: function(d) {
  return d.D || (d.D = later.date.getDate.call(d));
},
isValid: function(d, val) {
  return later.D.<span class="apidocCodeKeywordSpan">val</span>(d) === (val || later.D.extent(d)[1]);
},
extent: function(d) {
  if (d.DExtent) return d.DExtent;
  var month = later.M.val(d), max = later.DAYS_IN_MONTH[month - 1];
  if (month === 2 &#x26;&#x26; later.dy.extent(d)[1] === 366) {
    max = max + 1;
  }
...</pre></li>
    </ul>






</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
